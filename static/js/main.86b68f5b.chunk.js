(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(8),l=a.n(c),r=(a(16),a(17),a(6)),i=a(10),d=a(2),s=a(3),u=a(5),m=a(4),p=a(1),f=a.n(p),h=(f.a.shape({addTodo:f.a.func}),f.a.shape({id:f.a.number,title:f.a.string,completed:f.a.bool,checkedTodo:f.a.func,deleteTodo:f.a.func})),v=(f.a.shape({addTodo:f.a.func}),f.a.shape({todos:f.a.arrayOf(h.isRequired),checkedTodo:f.a.func,deleteTodo:f.a.func}),f.a.shape({toggleAll:f.a.func}),f.a.shape({setActiveTab:f.a.func,activeTab:f.a.string}),f.a.shape({todos:f.a.arrayOf(h.isRequired),clearCompleted:f.a.func,setActiveTab:f.a.func,activeTab:f.a.string}),a(22)),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={title:"",error:!1},e.setTitle=function(t){e.setState({title:t.replace(/\s/g," ").replace(/^\s/,""),error:!1})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.title,n=e.props.addTodo;return a?(n({title:a,id:Object(v.a)(),completed:!1}),e.setState({title:"",error:!1}),!0):(e.setState({error:!0}),!1)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.error;return o.a.createElement(o.a.Fragment,null,n&&o.a.createElement("div",{className:"form-error"},"Please add something"),o.a.createElement("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("input",{type:"text",name:"todo",maxLength:"100",className:"new-todo",placeholder:"What needs to be done?",value:a,onChange:function(t){return e.setTitle(t.target.value)}})))}}]),a}(o.a.Component),T=function(e){var t=e.addTodo;return o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"todos"),o.a.createElement(b,{addTodo:t}))},g=a(9),E=a.n(g),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={isEdit:!1,editTitle:e.props.title,tempTitle:null,editId:null},e.focusInput=o.a.createRef(),e.setEditTitle=function(t){var a=t.target.value;e.setState({editTitle:a.replace(/\s/g," ").replace(/^\s/,"")})},e.onDoubleClick=function(t){e.setState((function(e){return{isEdit:!e.isEdit,editId:t,tempTitle:e.editTitle}}))},e.onBlurInput=function(){e.setState((function(e){return{editTitle:e.tempTitle,isEdit:!1}}))},e.onKeyPressed=function(t){var a=e.state,n=a.editId,o=a.editTitle,c=e.props.deleteTodo;13===t.keyCode&&(t.preventDefault(),o||c(n),e.onDoubleClick(n)),27===t.keyCode&&e.onBlurInput()},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){this.focusInput&&this.focusInput.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.completed,c=t.checkedTodo,l=t.deleteTodo,r=this.state,i=r.isEdit,d=r.editTitle,s=E()({editing:!0===i,completed:!0===n});return o.a.createElement("li",{className:s},o.a.createElement("div",{className:"view"},o.a.createElement("input",{type:"checkbox",name:"todo",className:"toggle",checked:n,id:a,onChange:function(e){return c(e.target.id)}}),o.a.createElement("label",{htmlFor:a,onDoubleClick:function(t){return e.onDoubleClick(t.target.htmlFor)}},d),o.a.createElement("button",{type:"button",className:"destroy",id:a,onClick:function(e){return l(e.target.id)}})),o.a.createElement("input",{type:"text",name:"editInput",className:"edit",value:d,ref:this.focusInput,onChange:function(t){return e.setEditTitle(t)},onKeyUp:function(t){return e.onKeyPressed(t)},onBlur:this.onBlurInput}))}}]),a}(o.a.Component),y=function(e){var t=e.todos,a=e.checkedTodo,n=e.deleteTodo;return o.a.createElement("ul",{className:"todo-list"},t.map((function(e){return o.a.createElement(k,{key:e.id,id:e.id,completed:e.completed,title:e.title,checkedTodo:a,deleteTodo:n})})))},C=function(e){var t=e.setActiveTab,a=e.activeTab;return o.a.createElement("ul",{className:"filters"},o.a.createElement("li",null,o.a.createElement("a",{href:"#/",name:"all",className:"".concat("all"===a?"selected":""),onClick:function(e){return t(e.target.name)}},"All")),o.a.createElement("li",null,o.a.createElement("a",{href:"#/active",name:"active",className:"".concat("active"===a?"selected":""),onClick:function(e){return t(e.target.name)}},"Active")),o.a.createElement("li",null,o.a.createElement("a",{href:"#/completed",name:"completed",className:"".concat("completed"===a?"selected":""),onClick:function(e){return t(e.target.name)}},"Completed")))},N=function(e){var t=e.todos,a=e.clearCompleted,n=e.setActiveTab,c=e.activeTab,l=t.filter((function(e){return e.completed})).length,r=t.length-l;return o.a.createElement("footer",{className:"footer"},o.a.createElement("span",{className:"todo-count"},"".concat(r," items left")),o.a.createElement(C,{setActiveTab:n,activeTab:c}),l>0&&o.a.createElement("button",{type:"button",className:"clear-completed",onClick:a},"Clear completed"))},O=function(e){var t=e.toggleAll,a=e.allSelected;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:a,onClick:function(e){return t(e)}}),o.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))},S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={todos:JSON.parse(localStorage.getItem("storage"))||[],activeTab:""},e.addTodo=function(t){e.setState((function(e){return{todos:[].concat(Object(i.a)(e.todos),[t])}}))},e.deleteTodo=function(t){e.setState((function(e){return{todos:e.todos.filter((function(e){return e.id!==t}))}}))},e.checkedTodo=function(t){e.setState((function(e){return{todos:e.todos.map((function(e){return e.id===t?Object(r.a)(Object(r.a)({},e),{},{completed:!e.completed}):e}))}}))},e.toggleAll=function(t){var a=t.target.checked;e.setState((function(e){return{todos:e.todos.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:a})}))}}))},e.clearCompleted=function(){e.setState((function(e){return{todos:e.todos.filter((function(e){return!e.completed}))}}))},e.setActiveTab=function(t){e.setState({activeTab:t})},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.state.todos;localStorage.setItem("storage",JSON.stringify(e))}},{key:"render",value:function(){var e=this.state,t=e.todos,a=e.activeTab,n=t.every((function(e){return e.completed})),c=[];switch(a){case"active":c=t.filter((function(e){return!e.completed}));break;case"completed":c=t.filter((function(e){return e.completed}));break;case"all":default:c=t}return o.a.createElement("section",{className:"todoapp"},o.a.createElement(T,{addTodo:this.addTodo}),o.a.createElement("section",{className:"main"},t.length>0&&o.a.createElement(O,{toggleAll:this.toggleAll,allSelected:n}),o.a.createElement(y,{todos:c,checkedTodo:this.checkedTodo,deleteTodo:this.deleteTodo})),t.length>0&&o.a.createElement(N,{todos:t,clearCompleted:this.clearCompleted,setActiveTab:this.setActiveTab,activeTab:a}))}}]),a}(o.a.Component);l.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.86b68f5b.chunk.js.map